{"ast":null,"code":"import _asyncToGenerator from \"/home/juancamilo/Documentos/Developer/Api WEB/Projecto JYW/JYW/frontend/jyw/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { environment } from 'src/environments/environment';\nimport { io } from 'socket.io-client';\nimport 'rxjs/add/operator/map';\nimport * as i0 from \"@angular/core\";\nexport class SocketService {\n  constructor() {\n    this.url = environment.url;\n    this.token = localStorage.getItem('token');\n  }\n\n  setupSocketConnection() {\n    return io(this.url, {\n      transports: ['websocket'],\n      timeout: 30000,\n      auth: {\n        token: this.token\n      }\n    });\n  }\n\n  socketEvent(event) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this.setupSocketConnection().on(event, data => {\n        console.log('service', data);\n      });\n    })();\n  }\n\n}\n\nSocketService.ɵfac = function SocketService_Factory(t) {\n  return new (t || SocketService)();\n};\n\nSocketService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: SocketService,\n  factory: SocketService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/juancamilo/Documentos/Developer/Api WEB/Projecto JYW/JYW/frontend/jyw/src/app/service/sockets/socket.service.ts"],"names":[],"mappings":";AAEA,SAAS,WAAT,QAA4B,8BAA5B;AACA,SAAS,EAAT,QAAmB,kBAAnB;AACA,OAAO,uBAAP;;AAQA,OAAM,MAAO,aAAP,CAAoB;AAMxB,EAAA,WAAA,GAAA;AACE,SAAK,GAAL,GAAW,WAAW,CAAC,GAAvB;AACA,SAAK,KAAL,GAAa,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAb;AACD;;AAGD,EAAA,qBAAqB,GAAA;AACnB,WAAO,EAAE,CAAC,KAAK,GAAN,EAAW;AAClB,MAAA,UAAU,EAAE,CAAC,WAAD,CADM;AAElB,MAAA,OAAO,EAAE,KAFS;AAGlB,MAAA,IAAI,EAAE;AACJ,QAAA,KAAK,EAAE,KAAK;AADR;AAHY,KAAX,CAAT;AAOD;;AAGI,EAAA,WAAW,CAAC,KAAD,EAAW;AAAA;;AAAA;AAEzB,mBAAa,KAAI,CAAC,qBAAL,GAA6B,EAA7B,CAAgC,KAAhC,EAAwC,IAAD,IAAY;AAE9D,QAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAsB,IAAtB;AAED,OAJY,CAAb;AAFyB;AAO1B;;AA9BuB;;;mBAAb,a;AAAa,C;;;SAAb,a;AAAa,EAAA,OAAA,EAAb,aAAa,CAAA,I;AAAA,EAAA,UAAA,EAFZ","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { environment } from 'src/environments/environment';\nimport { io } from 'socket.io-client';\nimport 'rxjs/add/operator/map';\nimport { SocketProviderConnect } from '../socket.io';\nimport { Observable } from 'rxjs/Observable';\nimport { of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  public url: any;\n  public socket: any;\n  public token: any;\n  public data: any\n\n  constructor() {\n    this.url = environment.url;\n    this.token = localStorage.getItem('token');\n  }\n\n\n  setupSocketConnection() {\n    return io(this.url, {\n      transports: ['websocket'],\n      timeout: 30000,\n      auth: {\n        token: this.token,\n      },\n    });\n  }\n\n\n async socketEvent(event: any): Promise<any> {\n\n    return await this.setupSocketConnection().on(event, (data:any)=>{\n\n      console.log('service',data)\n\n    })\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}